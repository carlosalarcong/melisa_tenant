hakam_multi_tenancy:
    # IMPORTANTE: Usamos nuestro CustomTenantConfigProvider
    # que lee datos desde melisa_central vía TenantResolver
    
    # TenantDb está en Main/ porque es de la base de datos central
    tenant_database_className: 'App\Entity\Main\TenantDb'
    tenant_database_identifier: 'id'
    
    # NO especificar tenant_config_provider deja que el bundle use
    # el servicio registrado vía TenantConfigProviderInterface
    # tenant_config_provider: null  # Comentado - usar el alias del container
    
    tenant_connection:
        url: '%env(DATABASE_URL)%'
        driver: 'pdo_mysql'
        charset: 'utf8mb4'
        server_version: '8.0'
    
    tenant_migration:
        # Directorio donde están las migraciones de tenant (ya existentes)
        tenant_migration_namespace: 'DoctrineMigrations'
        tenant_migration_path: '%kernel.project_dir%/migrations/Tenant'
    
    tenant_entity_manager:
        tenant_naming_strategy: 'doctrine.orm.naming_strategy.underscore_number_aware'
        mapping:
            type: 'attribute'
            # Solo las entidades Tenant, NO las de Main
            dir: '%kernel.project_dir%/src/Entity/Tenant'
            prefix: 'App\Entity\Tenant'
            alias: 'App'
            is_bundle: false
